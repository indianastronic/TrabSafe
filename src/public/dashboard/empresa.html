<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel da Empresa - TrabSafe</title>

  <!-- CSS PRINCIPAL -->
  <link rel="stylesheet" href="../assets/css/dashboard.css">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<!-- ================= TOPO ================= -->
<header class="top-bar">
  <h1>TrabSafe</h1>

  <div class="top-actions">
    <button class="btn-ia" onclick="window.location.href='/ia.html'">
      ü§ñ Encontrar Prestador
    </button>

    <button class="btn-logout" onclick="logout()">
      Sair
    </button>
  </div>
</header>


<main class="container">

  <!-- ================= DASHBOARD ================= -->
  <section class="dashboard">
    <h2>Dashboard</h2>

    <div class="cards">
      <div class="card">
        üìÖ Treinamentos vencendo
        <span id="treinamentosVencendo">0</span>
      </div>

      <div class="card">
        üßæ ASOs vencendo
        <span id="asosVencendo">0</span>
      </div>

      <div class="card">
        ‚úÖ Treinamentos v√°lidos
        <span id="treinamentosValidos">0</span>
      </div>
    </div>

    <!-- gr√°fico controlado -->
    <div class="grafico-wrapper">
      <canvas id="grafico"></canvas>
    </div>
  </section>

  <!-- ================= FUNCION√ÅRIOS ================= -->
  <section class="funcionarios">
    <div class="section-header">
      <h2>Colaboradores</h2>

      <button class="btn-secondary" onclick="abrirModal()">
        ‚ûï Adicionar colaborador
      </button>
    </div>

    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Nome</th>
            <th>ASO (In√≠cio / Fim)</th>
            <th>Treinamento (In√≠cio / Fim)</th>
            <th>√Årea</th>
            <th class="col-acoes">A√ß√µes</th>
          </tr>
        </thead>

        <tbody id="tabelaFuncionarios">
          <!-- preenchido via JS -->
        </tbody>
      </table>
    </div>

    <button class="btn-secondary" onclick="gerarPDF()">
      üìÑ Exportar relat√≥rio
    </button>
  </section>

</main>

<!-- ================= MODAL ================= -->
<div class="modal" id="modalFuncionario">
  <div class="modal-content">
    <h3>Novo Colaborador</h3>

    <div class="form-group">
      <label>Nome</label>
      <input id="nomeFunc" placeholder="Nome do funcion√°rio">
    </div>

    <div class="form-group">
      <label>ASO</label>
      <div class="form-row">
        <input type="date" id="asoInicio">
        <input type="date" id="asoFim">
      </div>
    </div>

    <div class="form-group">
      <label>Treinamento</label>
      <div class="form-row">
        <input type="date" id="treinoInicio">
        <input type="date" id="treinoFim">
      </div>
    </div>

    <div class="form-group">
      <label>√Årea liberada</label>
      <input id="areaFunc" placeholder="√Årea liberada">
    </div>

    <div class="modal-actions">
      <button class="btn-primary" onclick="salvarFuncionario()">
        Salvar
      </button>

      <button class="btn-secondary" onclick="fecharModal()">
        Cancelar
      </button>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="../assets/js/empresa.js"></script>
</body>
</html>
